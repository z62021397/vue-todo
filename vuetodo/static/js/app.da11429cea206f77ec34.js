webpackJsonp([2,0],{0:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=o(29),d=n(i),s=o(87),a=n(s),r=o(46),u=n(r);new d.default({el:"#app",template:"<App/>",store:u.default,components:{App:a.default}})},42:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(88),d=n(i),s=o(90),a=n(s);e.default={name:"app",components:{AddToDo:d.default,TodoList:a.default}}},43:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(30);e.default={name:"AddToDo",data:function(){return{input:""}},created:function(){},methods:{onSubmit:function(){var t=this,e={done:!1,desc:"",time:new Date};return""==this.input?void alert("不能为空"):(e.desc=this.input,void this.$store.dispatch("newTodo",e).then(function(){t.input=""},function(){alert("出错")}))}}}},44:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(29);n(i);e.default={name:"TodoItem",props:["item"],data:function(){return{input:"",editable:!1}},directives:{detect:function(t,e){t.checked=e.value},"auto-focus":function(t,e){e.value&&t.focus()}},methods:{doneEdit:function(t){var e=t.target.value.trim(),o=this.item;e?this.editable&&(o.desc=e,this.$store.dispatch("editTodo",o),this.editable=!1):this.deleteItem()},cancelEdit:function(t){t.target.value=this.item.desc,this.editable=!1},toEdit:function(){this.editable=!0},deleteItem:function(){var t=this.item;this.$store.dispatch("deleteTodo",t)},toggleTodo:function(){var t=this.item;this.$store.dispatch("toggleTodo",t)}}}},45:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(50),d=n(i),s=o(89),a=n(s),r=o(30),u={all:{type:"all",desc:"所有"},done:{type:"done",desc:"已完成"},undone:{type:"undone",desc:"待完成"}};e.default={name:"TodoList",data:function(){return{visiableType:"all",filters:u}},created:function(){this.$store.dispatch("fetchTodos")},components:{TodoItem:a.default},computed:(0,d.default)({filterTodos:function(){return this[this.filters[this.visiableType].type]},all:function(){return this.$store.state.todos}},(0,r.mapGetters)({done:"doneTodos",undone:"undoneTodos"}))}},46:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(47),d=n(i),s=o(31),a=n(s),r=o(51),u=n(r),c=o(29),f=n(c),l=o(30),p=n(l),v=o(95),m=n(v);f.default.use(p.default),f.default.use(m.default);var h=0,T=function(){function t(t){return t.map(function(t){return"object"===("undefined"==typeof t?"undefined":(0,u.default)(t))?(0,a.default)({},t):t})}var e=[],o=function(){return this.init(),this};return o.prototype={init:function(){var t=window.localStorage.getItem("vtd-todos");t&&(e=JSON.parse(t))},getTodos:function(){return t(e)},addTodo:function(t){e.push(t),this.refreshTodos()},deleteTodo:function(t){e=e.filter(function(e){return e.id!=t}),this.refreshTodos()},toggleTodo:function(t){e=e.map(function(e){return e.id==t&&(e.done=!e.done),e}),this.refreshTodos()},editTodo:function(t){e=e.map(function(e){return e.id==t.id&&(e=t),e}),this.refreshTodos()},refreshTodos:function(){window.localStorage.setItem("vtd-todos",(0,d.default)(e))}},new o}();e.default=new p.default.Store({state:{todos:[]},mutations:{getTodos:function(t,e){var e=e.sort(function(t,e){return t.id<e.id});h=e.length&&e[0].id||0,t.todos=e},addTodo:function(t,e){t.todos.unshift((0,a.default)({},e))},editTodo:function(t,e){var o=-1;t.todos.forEach(function(t,n){t.id==e.id&&(o=n)}),o>-1?t.todos[o].desc=e.desc:""},toggleTodo:function(t,e){var o=-1,n=void 0;t.todos.forEach(function(t,i){t.id==e.id&&(o=i,n=t.done)}),o>-1?t.todos[o].done=!n:""},deleteTodo:function(t,e){var o=-1;t.todos.filter(function(t,n){t.id==e.id&&(o=n)}),o>-1?t.todos.splice(o,1):""}},getters:{doneTodos:function(t){var e=t.todos.filter(function(t){return t.done});return e},undoneTodos:function(t){return t.todos.filter(function(t){return!t.done})}},actions:{fetchTodos:function(t){var e=t.commit,o=T.getTodos();e("getTodos",o)},newTodo:function(t,e){var o=t.commit;h++,e.id=h,T.addTodo(e),o("addTodo",e)},toggleTodo:function(t,e){var o=t.commit;T.toggleTodo(e.id),o("toggleTodo",e)},deleteTodo:function(t,e){var o=t.commit;T.deleteTodo(e.id),o("deleteTodo",e)},editTodo:function(t,e){var o=t.commit;T.editTodo(e),o("editTodo",e)}}})},83:function(t,e){},84:function(t,e){},85:function(t,e){},86:function(t,e){},87:function(t,e,o){var n,i;o(84),n=o(42);var d=o(92);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=d.render,i.staticRenderFns=d.staticRenderFns,t.exports=n},88:function(t,e,o){var n,i;o(83),n=o(43);var d=o(91);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=d.render,i.staticRenderFns=d.staticRenderFns,i._scopeId="data-v-320de9e2",t.exports=n},89:function(t,e,o){var n,i;o(85),n=o(44);var d=o(93);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=d.render,i.staticRenderFns=d.staticRenderFns,i._scopeId="data-v-68a0a921",t.exports=n},90:function(t,e,o){var n,i;o(86),n=o(45);var d=o(94);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=d.render,i.staticRenderFns=d.staticRenderFns,i._scopeId="data-v-72a6212c",t.exports=n},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"add-to-do"},[t._m(0),t._v(" "),o("form",{staticClass:"form-horizontal",attrs:{role:"form"},on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[o("div",{staticClass:"form-group"},[o("div",{staticClass:"col-sm-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入事项~"},domProps:{value:t._s(t.input)},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})]),t._v(" "),o("button",{staticClass:"btn btn-info col-sm-2",attrs:{type:"submit"}},[t._v("提交")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h1",[o("i",{staticClass:"glyphicon glyphicon-time"}),t._v(" To Do ")])}]}},92:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("AddToDo"),t._v(" "),o("TodoList")],1)},staticRenderFns:[]}},93:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"todo-item",class:{editing:t.editable}},[o("div",{staticClass:"view"},[o("input",{directives:[{name:"detect",rawName:"v-detect",value:t.item.done,expression:"item.done"}],staticClass:"cb",attrs:{type:"checkbox"},on:{change:function(e){t.toggleTodo(t.item)}}}),t._v(" "),o("label",{on:{dblclick:function(e){t.toEdit()}}},[t._v(t._s(t.item.desc))]),t._v(" "),o("a",{staticClass:"delete",on:{click:t.deleteItem}},[t._v("×")])]),t._v(" "),o("div",{staticClass:"col-sm-10 edit-input"},[o("input",{directives:[{name:"auto-focus",rawName:"v-auto-focus",value:t.editable,expression:"editable"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.item.desc},on:{keyup:[function(e){t._k(e.keyCode,"enter",13)||t.doneEdit(e)},function(e){t._k(e.keyCode,"esc",27)||t.cancelEdit(e)}],blur:t.doneEdit}})])])},staticRenderFns:[]}},94:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"to-do-list"},[o("ul",{staticClass:"todo-types"},t._l(t.filters,function(e,n){return o("li",{staticClass:"btn btn-default",class:{"btn-success":n==t.visiableType},attrs:{role:"button"},on:{click:function(e){t.visiableType=n}}},[t._v(t._s(e.desc))])})),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0==t.filterTodos.length,expression:"filterTodos.length==0"}],staticStyle:{"text-align":"center"}},[t._v("暂无对应信息")]),t._v(" "),o("ul",{staticClass:"todo-list"},t._l(t.filterTodos,function(t){return o("TodoItem",{attrs:{item:t}})}))])},staticRenderFns:[]}}});
//# sourceMappingURL=app.da11429cea206f77ec34.js.map